# LAMMPS input script for ReaxFF simulation step
# Generated by PoreReax package

read_restart reax_run_{{ SIMNUMBER - 1 }}.data

timestep {{ TIMESTEP }}

thermo {{ THERMO_FREQ }}
thermo_style custom step temp press pe ke etotal vol density
dump trajdump all custom {{ DUMP_FREQ }} reax_run_1.lammpstrj id type x y z vx vy vz
fix myspec all reaxff/species {{ DUMP_FREQ }} 1 {{ DUMP_FREQ }} reax_run_1.species element {{ ATOMS }}
fix bond all reaxff/bonds {{ DUMP_FREQ }} reax_run_1.bonds
fix removeMom all momentum {{ DUMP_FREQ }} linear 1 1 1 rescale
{% if SIMULATIONTYPE == "nvt" %}
fix nvt all nvt temp {{ TEMP }} {{ TEMP }} 100.0
{% endif %}
{% if SIMULATIONTYPE == "npt" %}
fix npt all npt temp {{ TEMP }} {{ TEMP }} 100.0 iso {{ PRESS }} {{ PRESS }} 1000.0
{% endif %}
run {{ NSTEPS }}

undump trajdump
unfix myspec
unfix bond
unfix removeMom
unfix nvt
write_restart reax_run_{{ SIMNUMBER }}.data
